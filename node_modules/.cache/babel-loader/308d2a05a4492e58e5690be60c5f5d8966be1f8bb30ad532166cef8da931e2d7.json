{"ast":null,"code":"import _regeneratorRuntime from\"D:/FYP/flask project/Front-End/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/FYP/flask project/Front-End/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"D:/FYP/flask project/Front-End/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/FYP/flask project/Front-End/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./CSS/selectcategory.css';import doc2 from'./Image/s1.png';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function SelectCategory(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),namei=_useState2[0],setname=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),checkedOptions=_useState4[0],setCheckedOptions=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),seain=_useState6[0],seaset=_useState6[1];var _useState7=useState({categories:[]}),_useState8=_slicedToArray(_useState7,2),pref=_useState8[0],allpref=_useState8[1];var navigate=useNavigate();useEffect(function(){var name=sessionStorage.getItem(\"email\")||\"\";setname(name);if(name===\"\"){navigate('/login');}fetch('http://127.0.0.1:5000/get_all_pref',{method:'GET',headers:{'content-type':'application/json'}}).then(function(response){response.json().then(function(body){allpref(body);});});fetch('http://127.0.0.1:5000/get_all_categories',{method:'GET',headers:{'content-type':'application/json'}}).then(function(response){response.json().then(function(body){// Handle response\n});});},[navigate]);var search=function search(){// Implement search functionality\n};var seat=function seat(e){seaset(e.target.value);};var handleCheckboxChange=function handleCheckboxChange(event){var _event$target=event.target,value=_event$target.value,checked=_event$target.checked;setCheckedOptions(function(prevCheckedOptions){if(checked){return[].concat(_toConsumableArray(prevCheckedOptions),[value]);}else{return prevCheckedOptions.filter(function(option){return option!==value;});}});};var submit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:navigate('/hotcategories');_context.next=3;return fetch('http://127.0.0.1:5000/prefset',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({\"username\":namei,\"pref\":checkedOptions})}).then(function(response){// Handle response\n});case 3:case\"end\":return _context.stop();}},_callee);}));return function submit(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"categorySelection\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nav\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"labelh\",children:\"Product Scout\"}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-cont\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-containerh\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"search-icon fas fa-search\"}),/*#__PURE__*/_jsx(\"input\",{className:\"search-inputh\",type:\"text\",placeholder:\"Article name or keywords...\",onChange:seat,value:seain})]}),/*#__PURE__*/_jsx(\"button\",{className:\"Searchbut\",onClick:search,children:\"Search\"}),/*#__PURE__*/_jsx(\"button\",{className:\"cati\",onClick:function onClick(){navigate(\"/select-category\");},children:\"Home\"}),/*#__PURE__*/_jsx(\"button\",{className:\"logouts\",onClick:function onClick(){navigate(\"/\");},children:\"Logout\"}),/*#__PURE__*/_jsx(\"button\",{className:\"trends\",onClick:function onClick(){navigate(\"/hotcategories\");},children:\"Hot Products\"}),/*#__PURE__*/_jsx(\"button\",{className:\"calculator\",onClick:function onClick(){navigate(\"/calculator\");},children:\"Profit Calculator\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"a11\",src:doc2,alt:\"Product\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"a5\",children:\"Please select your Preferred Categories\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"forms\",children:[pref.categories.map(function(option,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:option,value:option,onChange:handleCheckboxChange}),/*#__PURE__*/_jsx(\"label\",{className:\"labelf\",htmlFor:option,children:option})]},index);}),/*#__PURE__*/_jsx(\"button\",{onClick:submit,className:\"subpref\",children:\"Submit\"})]})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","doc2","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SelectCategory","_useState","_useState2","_slicedToArray","namei","setname","_useState3","_useState4","checkedOptions","setCheckedOptions","_useState5","_useState6","seain","seaset","_useState7","categories","_useState8","pref","allpref","navigate","name","sessionStorage","getItem","fetch","method","headers","then","response","json","body","search","seat","e","target","value","handleCheckboxChange","event","_event$target","checked","prevCheckedOptions","concat","_toConsumableArray","filter","option","submit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","JSON","stringify","stop","apply","arguments","children","className","type","placeholder","onChange","onClick","src","alt","map","index","id","htmlFor"],"sources":["D:/FYP/flask project/Front-End/src/Components/SelectCategory.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './CSS/selectcategory.css';\r\nimport doc2 from './Image/s1.png';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function SelectCategory() {\r\n    const [namei, setname] = useState(\"\");\r\n    const [checkedOptions, setCheckedOptions] = useState<string[]>([]);\r\n    const [seain, seaset] = useState(\"\");\r\n    const [pref, allpref] = useState({ categories: [] });\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        const name = sessionStorage.getItem(\"email\") || \"\";\r\n        setname(name);\r\n        if (name === \"\") {\r\n            navigate('/login');\r\n        }\r\n\r\n        fetch('http://127.0.0.1:5000/get_all_pref', {\r\n            method: 'GET',\r\n            headers: {\r\n                'content-type': 'application/json',\r\n            },\r\n        }).then((response) => {\r\n            response.json().then((body) => {\r\n                allpref(body);\r\n            });\r\n        });\r\n\r\n        fetch('http://127.0.0.1:5000/get_all_categories', {\r\n            method: 'GET',\r\n            headers: {\r\n                'content-type': 'application/json',\r\n            },\r\n        }).then((response) => {\r\n            response.json().then((body) => {\r\n                // Handle response\r\n            });\r\n        });\r\n    }, [navigate]);\r\n\r\n    const search = () => {\r\n        // Implement search functionality\r\n    };\r\n\r\n    const seat = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        seaset(e.target.value);\r\n    };\r\n\r\n    const handleCheckboxChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        const { value, checked } = event.target;\r\n\r\n        setCheckedOptions((prevCheckedOptions) => {\r\n            if (checked) {\r\n                return [...prevCheckedOptions, value];\r\n            } else {\r\n                return prevCheckedOptions.filter((option) => option !== value);\r\n            }\r\n        });\r\n    };\r\n\r\n    const submit = async () => {\r\n        navigate('/hotcategories');\r\n        await fetch('http://127.0.0.1:5000/prefset', {\r\n            method: 'POST',\r\n            headers: {\r\n                'content-type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                \"username\": namei,\r\n                \"pref\": checkedOptions,\r\n            }),\r\n        }).then((response) => {\r\n            // Handle response\r\n        });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className='categorySelection'>\r\n                <div className='nav'>\r\n                    <p className='labelh'>Product Scout</p>\r\n                    <div className='nav-cont'>\r\n                        <div>\r\n                            <div className=\"search-containerh\">\r\n                                <i className=\"search-icon fas fa-search\"></i>\r\n                                <input\r\n                                    className=\"search-inputh\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"Article name or keywords...\"\r\n                                    onChange={seat}\r\n                                    value={seain}\r\n                                />\r\n                            </div>\r\n                            <button className='Searchbut' onClick={search}>Search</button>\r\n                            <button className='cati' onClick={() => { navigate(\"/select-category\") }}>Home</button>\r\n                            <button className='logouts' onClick={() => { navigate(\"/\") }}>Logout</button>\r\n                            <button className='trends' onClick={() => { navigate(\"/hotcategories\") }}>Hot Products</button>\r\n                            <button className='calculator' onClick={() => { navigate(\"/calculator\") }}>Profit Calculator</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <img className='a11' src={doc2} alt='Product' />\r\n                    <h1 className='a5'>Please select your Preferred Categories</h1>\r\n                    <form className='forms'>\r\n                        {pref.categories.map((option, index) => (\r\n                            <div key={index}>\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    id={option}\r\n                                    value={option}\r\n                                    onChange={handleCheckboxChange}\r\n                                />\r\n                                <label className='labelf' htmlFor={option}>{option}</label>\r\n                            </div>\r\n                        ))}\r\n                        <button onClick={submit} className='subpref'>Submit</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}