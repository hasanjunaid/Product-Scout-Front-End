{"ast":null,"code":"import _slicedToArray from\"D:/FYP/flask project/Front-End/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./CSS/signup.css';import{useNavigate}from'react-router-dom';import doc2 from'./Image/s1.png';import doc3 from'./Image/s2.png';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Signup(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var handleUsernameChange=function handleUsernameChange(e){setUsername(e.target.value);};var handleEmailChange=function handleEmailChange(e){setEmail(e.target.value);};var handlePasswordChange=function handlePasswordChange(e){setPassword(e.target.value);};var handleConfirmPasswordChange=function handleConfirmPasswordChange(e){setConfirmPassword(e.target.value);};var signup=function signup(){// Email syntax validation\nvar emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(!emailRegex.test(email)){toast.error('Please enter a valid email address');return;}// Password strength validation\nvar passwordRegex=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*()])[A-Za-z\\d!@#$%^&*()]{8,}$/;if(!passwordRegex.test(password)){toast.error('Password must contain at least 8 characters, including at least one lowercase letter, one uppercase letter, one numeric digit, and one special character');return;}// Password confirmation\nif(password!==confirmPassword){toast.error('Passwords do not match');return;}// Perform signup\nfetch('http://127.0.0.1:5000/signup',{method:'POST',headers:{'content-type':'application/json'},body:JSON.stringify({\"username\":username,// Changed from email to username\n\"email\":email,// You can still send email if needed\n\"password\":password})}).then(function(response){response.json().then(function(body){if(body['message']==='User created successfully'){navigate('/login');sessionStorage.setItem(\"email\",email);sessionStorage.setItem(\"firsttime\",\"true\");}else{toast.error(body['error']);}});});};return/*#__PURE__*/_jsxs(\"div\",{className:\"sip\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(\"img\",{className:\"a2\",src:doc3}),/*#__PURE__*/_jsx(\"img\",{className:\"a1\",src:doc2}),/*#__PURE__*/_jsxs(\"div\",{className:\"mainsignin\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"l1\",children:\"Create An Account\"}),/*#__PURE__*/_jsx(\"p\",{className:\"p1\",children:\"Create an account to enjoy all the services without any ads for free!\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"search-input-login\",type:\"text\"// Changed from email to text\n,placeholder:\"Username\",onChange:handleUsernameChange,value:username}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"search-input-login\",type:\"email\",placeholder:\"Email Address\",onChange:handleEmailChange,value:email}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"search-input-login\",type:\"password\",placeholder:\"Password\",onChange:handlePasswordChange,value:password}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"search-input-login\",type:\"password\",placeholder:\"Confirm Password\",onChange:handleConfirmPasswordChange,value:confirmPassword}),/*#__PURE__*/_jsx(\"div\",{onClick:signup,className:\"button-signup\",children:\"Create Account\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"p236\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"span\",{className:\"underline\",onClick:function onClick(){navigate(\"/login\");},children:\"Sign In\"})]})]})]});}","map":{"version":3,"names":["React","useState","useNavigate","doc2","doc3","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","Signup","navigate","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","_useState7","_useState8","confirmPassword","setConfirmPassword","handleUsernameChange","e","target","value","handleEmailChange","handlePasswordChange","handleConfirmPasswordChange","signup","emailRegex","test","error","passwordRegex","fetch","method","headers","body","JSON","stringify","then","response","json","sessionStorage","setItem","className","children","src","type","placeholder","onChange","onClick"],"sources":["D:/FYP/flask project/Front-End/src/Components/Signup.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './CSS/signup.css';\r\nimport SplashScreen from './Splash';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport doc2 from './Image/s1.png';\r\nimport doc3 from './Image/s2.png';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function Signup() {\r\n    let navigate = useNavigate();\r\n    const [username, setUsername] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n\r\n    const handleUsernameChange = (e) => {\r\n        setUsername(e.target.value);\r\n    };\r\n\r\n    const handleEmailChange = (e) => {\r\n        setEmail(e.target.value);\r\n    };\r\n\r\n    const handlePasswordChange = (e) => {\r\n        setPassword(e.target.value);\r\n    };\r\n\r\n    const handleConfirmPasswordChange = (e) => {\r\n        setConfirmPassword(e.target.value);\r\n    };\r\n\r\n    const signup = () => {\r\n        // Email syntax validation\r\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n        if (!emailRegex.test(email)) {\r\n            toast.error('Please enter a valid email address');\r\n            return;\r\n        }\r\n\r\n        // Password strength validation\r\n        const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[!@#$%^&*()])[A-Za-z\\d!@#$%^&*()]{8,}$/;\r\n        if (!passwordRegex.test(password)) {\r\n            toast.error('Password must contain at least 8 characters, including at least one lowercase letter, one uppercase letter, one numeric digit, and one special character');\r\n            return;\r\n        }\r\n\r\n        // Password confirmation\r\n        if (password !== confirmPassword) {\r\n            toast.error('Passwords do not match');\r\n            return;\r\n        }\r\n\r\n        // Perform signup\r\n        fetch('http://127.0.0.1:5000/signup', {\r\n            method: 'POST',\r\n            headers: {\r\n                'content-type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                \"username\": username, // Changed from email to username\r\n                \"email\": email, // You can still send email if needed\r\n                \"password\": password,\r\n            }),\r\n        }).then((response) => {\r\n            response.json().then((body) => {\r\n                if (body['message'] === 'User created successfully') {\r\n                    navigate('/login');\r\n                    sessionStorage.setItem(\"email\", email);\r\n                    sessionStorage.setItem(\"firsttime\", \"true\");\r\n                } else {\r\n                    toast.error(body['error']);\r\n                }\r\n            });\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className='sip'>\r\n            <ToastContainer />\r\n            <img className='a2' src={doc3} />\r\n            <img className='a1' src={doc2} />\r\n            <div className='mainsignin'>\r\n                <h1 className='l1'>Create An Account</h1>\r\n                <p className='p1'>Create an account to enjoy all the services without any ads for free!</p>\r\n                <br />\r\n                <input\r\n                    className=\"search-input-login\"\r\n                    type=\"text\" // Changed from email to text\r\n                    placeholder=\"Username\"\r\n                    onChange={handleUsernameChange}\r\n                    value={username}\r\n                />\r\n                <br />\r\n                <input\r\n                    className=\"search-input-login\"\r\n                    type=\"email\"\r\n                    placeholder=\"Email Address\"\r\n                    onChange={handleEmailChange}\r\n                    value={email}\r\n                />\r\n                <br />\r\n                <input\r\n                    className=\"search-input-login\"\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    onChange={handlePasswordChange}\r\n                    value={password}\r\n                />\r\n                <br />\r\n                <input\r\n                    className=\"search-input-login\"\r\n                    type=\"password\"\r\n                    placeholder=\"Confirm Password\"\r\n                    onChange={handleConfirmPasswordChange}\r\n                    value={confirmPassword}\r\n                />\r\n                <div onClick={signup} className='button-signup'>Create Account</div>\r\n                <p className='p236'>Already have an account? <span className='underline' onClick={() => { navigate(\"/login\") }}>Sign In</span></p>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}